# Maintainer: Rasmus Steinke <rasi at xssn dot at>

pkgname=teiler-git
pkgver=124.a38e15c
pkgrel=1
pkgdesc="a simple screenshot/screencast tool written in bash"
arch=('any')
url='http://teiler.53280.de'
license=('GPL')
depends=('bc' 'ffmpeg' 'scrot' 'xclip' 'dzen2-git' 'pygtk')
optdepends=('fb-client: 		Upload to paste.xinu.at (or selfhosted filebin)'
            'openssh: 			Upload to SSH server'
            'dmenu2: 			Backend for teiler'
            'simpleswitcher-dd-git: 	Alternative backend for teiler'
            'xorg-xwininfo: 		Screencast single windows'
            'xdotool: 			Screencast single windows')

options=(!strip)
install="teiler.install"
makedepends=('git')
source=('git+http://git.53280.de/carnager/teiler')

pkgver() {
	cd teiler
	printf "%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

package() {

  install -D -m755 "${srcdir}/teiler/teiler" \
    "${pkgdir}/usr/bin/teiler"

  install -D -m755 "${srcdir}/teiler/imgclip.py" \
    "${pkgdir}/usr/bin/imgclip.py"

  install -D -m644 "${srcdir}/teiler/config.example" \
    "${pkgdir}/usr/share/doc/teiler/config.example"

  install -D -m644 "${srcdir}/teiler/dmenurc" \
    "${pkgdir}/usr/share/doc/teiler/dmenurc"

}
md5sums=('f2483d70a8a9ee7964fc4bbd7293ce10'
         'SKIP')
md5sums=('SKIP')
